# å¿«é€Ÿå¼€å§‹

## ä¸€é”®è¿è¡Œæµ‹è¯•

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. è¿è¡Œæµ‹è¯•
npx hardhat test
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

## è¯¦ç»†æ­¥éª¤

### 1. å®‰è£… Node.js å’Œ npm

ç¡®ä¿ä½ å·²å®‰è£… Node.js (v16 æˆ–æ›´é«˜ç‰ˆæœ¬):

```bash
node --version  # åº”è¯¥æ˜¾ç¤º v16.x.x æˆ–æ›´é«˜
npm --version   # åº”è¯¥æ˜¾ç¤º 8.x.x æˆ–æ›´é«˜
```

### 2. å®‰è£…é¡¹ç›®ä¾èµ–

åœ¨ `orderbook` ç›®å½•ä¸‹è¿è¡Œ:

```bash
npm install
```

è¿™ä¼šå®‰è£…:
- hardhat (ä»¥å¤ªåŠå¼€å‘ç¯å¢ƒ)
- ethers.js (ä»¥å¤ªåŠåº“)
- chai (æµ‹è¯•æ–­è¨€åº“)

### 3. ç¼–è¯‘åˆçº¦ï¼ˆå¯é€‰ï¼‰

Hardhat ä¼šåœ¨è¿è¡Œæµ‹è¯•æ—¶è‡ªåŠ¨ç¼–è¯‘ï¼Œä½†ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¯‘:

```bash
npx hardhat compile
```

### 4. è¿è¡Œæµ‹è¯•

```bash
npx hardhat test
```

ä½ ä¼šçœ‹åˆ°å®Œæ•´çš„æµ‹è¯•è¾“å‡ºï¼ŒåŒ…æ‹¬:
- åˆçº¦éƒ¨ç½²ä¿¡æ¯
- ä¸‹å•è¿‡ç¨‹
- è®¢å•ç°¿çŠ¶æ€
- èµ„é‡‘é”å®šæƒ…å†µ
- æ’¤å•æµ‹è¯•

### 5. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

å¦‚æœæƒ³çœ‹æ›´è¯¦ç»†çš„æ—¥å¿—:

```bash
npx hardhat test --verbose
```

## ä½¿ç”¨ Anvilï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æ›´å–œæ¬¢ä½¿ç”¨ Foundry çš„ Anvil:

```bash
# ç»ˆç«¯1: å¯åŠ¨ Anvil
anvil

# ç»ˆç«¯2: è¿è¡Œæµ‹è¯•
npx hardhat test --network localhost
```

## æµ‹è¯•ç»“æœç¤ºä¾‹

æˆåŠŸçš„æµ‹è¯•è¾“å‡ºåº”è¯¥ç±»ä¼¼:

```
  OrderBook System
    ä¸‹å•æµ‹è¯•
      âœ” Alice åº”è¯¥èƒ½ä¸‹3ä¸ªä¹°å• (1234ms)
      âœ” Bob åº”è¯¥èƒ½ä¸‹3ä¸ªå–å• (987ms)
      âœ” åº”è¯¥èƒ½æ‰¹é‡æ’å…¥æ‰€æœ‰è®¢å•åˆ°OrderBook (2345ms)
    è®¢å•ç°¿çŠ¶æ€
      âœ” åº”è¯¥æ˜¾ç¤ºæ­£ç¡®çš„è®¢å•ç°¿ç»“æ„ (456ms)
    è´¦æˆ·ä½™é¢
      âœ” åº”è¯¥æ­£ç¡®é”å®šèµ„é‡‘ (234ms)
    æ’¤å•æµ‹è¯•
      âœ” Alice åº”è¯¥èƒ½æ’¤é”€ä¸€ä¸ªä¹°å• (1567ms)

  6 passing (8s)
```

## æ•…éšœæ’æŸ¥

### npm install å¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force
npm install
```

### ç¼–è¯‘é”™è¯¯

```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
npx hardhat clean
npx hardhat compile
```

### æµ‹è¯•å¤±è´¥

æ£€æŸ¥ä½ çš„åˆçº¦æ–‡ä»¶æ˜¯å¦éƒ½åœ¨åŒä¸€ç›®å½•ä¸‹:
- Account.sol
- Sequencer.sol
- OrderBook.sol
- MockERC20.sol

## ä¸‹ä¸€æ­¥

æµ‹è¯•æˆåŠŸåï¼Œä½ å¯ä»¥:

1. æŸ¥çœ‹ `README_TEST.md` äº†è§£è¯¦ç»†æµ‹è¯•è¯´æ˜
2. ä¿®æ”¹ `test/OrderBook.test.js` æ·»åŠ è‡ªå®šä¹‰æµ‹è¯•
3. æ·»åŠ æ’®åˆåŠŸèƒ½æµ‹è¯•
4. æµ‹è¯•æ›´å¤æ‚çš„äº¤æ˜“åœºæ™¯

ç¥æµ‹è¯•æ„‰å¿«ï¼ğŸš€
